<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #1443ae; -webkit-text-stroke: #1443ae}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #12737e; -webkit-text-stroke: #12737e}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6103ad; -webkit-text-stroke: #6103ad}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #a20010; -webkit-text-stroke: #a20010}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133; min-height: 15.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #137646; -webkit-text-stroke: #137646}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #093c94; -webkit-text-stroke: #093c94}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2a2a2a; -webkit-text-stroke: #2a2a2a}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #18191b; -webkit-text-stroke: #18191b}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #ba0673; -webkit-text-stroke: #ba0673}
    span.s1 {font-kerning: none; background-color: #f6f7f9}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #f6f7f9; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #f6f7f9; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #2e3133; background-color: #f6f7f9; -webkit-text-stroke: 0px #2e3133}
    span.s5 {font-kerning: none; color: #1443ae; background-color: #f6f7f9; -webkit-text-stroke: 0px #1443ae}
    span.s6 {font-kerning: none; color: #a20010; background-color: #f6f7f9; -webkit-text-stroke: 0px #a20010}
    span.s7 {font-kerning: none; color: #12737e; background-color: #f6f7f9; -webkit-text-stroke: 0px #12737e}
    span.s8 {font-kerning: none; color: #093c94; background-color: #f6f7f9; -webkit-text-stroke: 0px #093c94}
    span.s9 {font-kerning: none; color: #137646; background-color: #f6f7f9; -webkit-text-stroke: 0px #137646}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #6103ad; background-color: #f6f7f9; -webkit-text-stroke: 0px #6103ad}
    span.s12 {font-kerning: none; color: #ba0673; background-color: #f6f7f9; -webkit-text-stroke: 0px #ba0673}
    span.s13 {font-kerning: none; color: #18191b; background-color: #f6f7f9; -webkit-text-stroke: 0px #18191b}
    span.s14 {font-kerning: none; color: #4d5055; background-color: #f6f7f9; -webkit-text-stroke: 0px #4d5055}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">base</span><span class="s4"> </span><span class="s1">target</span><span class="s3">=</span><span class="s6">"_top"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1">body</span><span class="s4"> {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">font-family:</span><span class="s4"> </span><span class="s1">Arial</span><span class="s4">, </span><span class="s1">sans-serif</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s8">#f9f9f9</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#sidebar</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">240px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#f0f0f0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">overflow-y:</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#folders-container</span><span class="s4"> </span><span class="s1">button</span><span class="s4"> {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">display:</span><span class="s4"> </span><span class="s1">inline-block</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">margin:</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4"> </span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#0079bf</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s6">white</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">border-radius:</span><span class="s4"> </span><span class="s9">9999px</span><span class="s4">; </span><span class="s1">/* oval shape */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">transition:</span><span class="s4"> </span><span class="s1">background-color</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">nowrap</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">min-width:</span><span class="s4"> </span><span class="s9">50px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#folders-container</span><span class="s4"> </span><span class="s1">button:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#005a8c</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#folders-container</span><span class="s4"> </span><span class="s1">button.active-folder</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#003f63</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#sidebar</span><span class="s4"> </span><span class="s1">h4</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#status-filter</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#image-index</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-index-entry</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s6">space-between</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">gap:</span><span class="s1"> </span><span class="s9">6px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">nowrap</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">overflow:</span><span class="s4"> </span><span class="s6">hidden</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">text-overflow:</span><span class="s4"> </span><span class="s6">ellipsis</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-index-entry</span><span class="s4"> </span><span class="s1">span.label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex-shrink:</span><span class="s4"> </span><span class="s9">1</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">overflow:</span><span class="s4"> </span><span class="s6">hidden</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">text-overflow:</span><span class="s4"> </span><span class="s6">ellipsis</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#main-content</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex:</span><span class="s4"> </span><span class="s9">1</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-left:</span><span class="s4"> </span><span class="s9">50px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">block</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#reviewer-name</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">300px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.group-cards</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex-wrap:</span><span class="s4"> </span><span class="s6">wrap</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">gap:</span><span class="s1"> </span><span class="s9">20px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">flex-start</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.card</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">; </span><span class="s1">/* previously 8px */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">260px</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">padding:</span><span class="s4"> </span><span class="s9">16px</span><span class="s4">; </span><span class="s1">/* consistent padding all around */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s6">column</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">height:</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.card.primary</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">520px</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">; </span><span class="s1">/* previously 8px */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-self:</span><span class="s4"> </span><span class="s6">flex-start</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-wrapper</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">overflow:</span><span class="s4"> </span><span class="s6">hidden</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Hover overlay */</span></p>
<p class="p4"><span class="s1">.image-wrapper::after</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">content:</span><span class="s4"> </span><span class="s6">""</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">right:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">background:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s6">)</span><span class="s4">; </span><span class="s1">/* transparent default */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">transition:</span><span class="s4"> </span><span class="s1">background</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-wrapper:hover::after</span><span class="s4"> {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">background:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0.06</span><span class="s6">)</span><span class="s4">; </span><span class="s1">/* soft dark fade */</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.status-box</span><span class="s4"> {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">display:</span><span class="s4"> </span><span class="s1">inline-block</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">13px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">9999px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">nowrap</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.status-approved</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#d4edda</span><span class="s4">;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s1">#155724</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.status-not-approved</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#f8d7da</span><span class="s4">;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s1">#721c24</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.status-pending</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#e0e0e0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#555</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.primary-label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">right:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#d0e8ff</span><span class="s4">;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s1">#0c3c78</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">13px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">2</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.toggle-status-btn:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0.85</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s1">, </span><span class="s9">0</span><span class="s1">, </span><span class="s9">0</span><span class="s1">, </span><span class="s9">0.1</span><span class="s6">)</span><span class="s1">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">.fixed-status</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">left:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">2</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Consistent inner widths so everything lines up */</span></p>
<p class="p4"><span class="s1">.name-container</span><span class="s4">,</span></p>
<p class="p4"><span class="s1">textarea</span><span class="s4">,</span></p>
<p class="p4"><span class="s1">.action-row</span><span class="s4">,</span></p>
<p class="p4"><span class="s1">.comments-label</span><span class="s4">,</span></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding-left:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding-right:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.name-container</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">word-break:</span><span class="s4"> </span><span class="s6">break-word</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">textarea</span><span class="s4"> {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">font-family:</span><span class="s4"> </span><span class="s1">Arial</span><span class="s4">, </span><span class="s1">sans-serif</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">min-height:</span><span class="s4"> </span><span class="s9">60px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">resize:</span><span class="s4"> </span><span class="s1">vertical</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4"> </span><span class="s8">#ccc</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Action row */</span></p>
<p class="p4"><span class="s1">.action-row</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s6">space-between</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">gap:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Use same styling as folder buttons but keep smaller */</span></p>
<p class="p4"><span class="s1">button.submit-btn</span><span class="s4"> {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">padding:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">; </span><span class="s1">/* same as status-box */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">font-size:</span><span class="s4"> </span><span class="s9">13px</span><span class="s4">;<span class="Apple-converted-space">    </span></span><span class="s1">/* match badge size */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">background-color:</span><span class="s4"> </span><span class="s8">#ffffff</span><span class="s4">; </span><span class="s1">/* match card background */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s8">#666</span><span class="s4">; <span class="Apple-converted-space">        </span></span><span class="s1">/* grey text */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4"> </span><span class="s8">#ccc</span><span class="s4">; </span><span class="s1">/* light grey border */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">border-radius:</span><span class="s4"> </span><span class="s9">9999px</span><span class="s4">; </span><span class="s1">/* pill shape */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">transition:</span><span class="s4"> </span><span class="s1">background-color</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">, </span><span class="s1">border-color</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex-shrink:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">nowrap</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">button.submit-btn:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#f3f3f3</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-color:</span><span class="s4"> </span><span class="s8">#bbb</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1">/* Replace default file input with blue text at bottom right of textarea */</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s11">input</span><span class="s4">[</span><span class="s1">type</span><span class="s4">=</span><span class="s1">"file"</span><span class="s4">] {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Container for "Attach Reference Image" text */</span></p>
<p class="p4"><span class="s1">.attach-reference-label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s8">#7aa7e9</span><span class="s4">; </span><span class="s1">/* paler blue */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">.attach-reference-label:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">text-decoration:</span><span class="s4"> </span><span class="s6">underline</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1">/* Wrapper for textarea &amp; attach label so label can be positioned inside */</span></p>
<p class="p4"><span class="s1">.textarea-wrapper</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.comments-label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-self:</span><span class="s4"> </span><span class="s6">flex-start</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> </span><span class="s1">div</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-bottom:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4"> </span><span class="s8">#ddd</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">padding:</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">20px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">13px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">line-height:</span><span class="s4"> </span><span class="s9">1.4</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#444</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">flex-start</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">gap:</span><span class="s1"> </span><span class="s9">6px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">flex-wrap:</span><span class="s4"> </span><span class="s6">wrap</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> </span><span class="s1">.status-box</span><span class="s4"> {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">display:</span><span class="s4"> </span><span class="s1">inline-block</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-right:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">vertical-align:</span><span class="s4"> </span><span class="s6">middle</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> </span><span class="s1">div</span><span class="s4"> </span><span class="s1">span.delete-btn</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s1"> </span><span class="s9">6px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">right:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#666</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.feedback-list</span><span class="s4"> </span><span class="s1">div</span><span class="s4"> </span><span class="s1">span.delete-btn:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#999</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#image-modal</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">fixed</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9999</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">right:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0.85</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">40px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#image-modal.show</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Ensure content area doesn't trigger modal close */</span></p>
<p class="p4"><span class="s1">#modal-content</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">gap:</span><span class="s1"> </span><span class="s9">40px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s6">transparent</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">relative</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Full-size image styling */</span></p>
<p class="p4"><span class="s1">#modal-img</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">max-height:</span><span class="s4"> </span><span class="s9">90vh</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">50vw</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">object-fit:</span><span class="s4"> </span><span class="s6">contain</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">background:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s1">/* removed white background */</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">padding:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;<span class="Apple-converted-space">        </span></span><span class="s1">/* no padding */</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Right-side card panel */</span></p>
<p class="p4"><span class="s1">#modal-card-container</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">400px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">max-height:</span><span class="s4"> </span><span class="s9">90vh</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">overflow-y:</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* Close button */</span></p>
<p class="p4"><span class="s1">#modal-close-btn</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s4"> </span><span class="s1">-30px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">right:</span><span class="s4"> </span><span class="s9">-30px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">32px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10000</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">#modal-close-btn:hover</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#ccc</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">#modal-version-badge</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s1"> </span><span class="s9">16px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">right:</span><span class="s4"> </span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#e0c9ff</span><span class="s4">;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s1">#5c2a93</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">6px</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10002</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.version-toggle</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#e0c9ff</span><span class="s4">;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">color:</span><span class="s4"> </span><span class="s1">#5c2a93</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">3px</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">13px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">2</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">align-self:</span><span class="s4"> </span><span class="s6">flex-end</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.hidden-version</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-wrapper</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.image-wrapper</span><span class="s4"> </span><span class="s1">img</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">height:</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">object-fit:</span><span class="s4"> </span><span class="s6">contain</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1">.modal-nav</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s7">top:</span><span class="s1"> </span><span class="s9">50%</span><span class="s1">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">transform:</span><span class="s4"> </span><span class="s1">translateY(</span><span class="s9">-50%</span><span class="s1">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">36px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s6">white</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10000</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0.3</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">.modal-nav.left</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">left:</span><span class="s4"> </span><span class="s9">-50px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">.modal-nav.right</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">right:</span><span class="s4"> </span><span class="s9">-50px</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s1">.modal-nav:hover</span><span class="s4"> {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s7">background:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s1">255</span><span class="s4">, </span><span class="s1">255</span><span class="s4">, </span><span class="s1">255</span><span class="s4">, </span><span class="s1">0.2</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"sidebar"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">h4</span><span class="s3">&gt;</span><span class="s1">Department</span><span class="s3">&lt;/</span><span class="s5">h4</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"folders-container"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">h4</span><span class="s3">&gt;</span><span class="s1">Filter Status</span><span class="s3">&lt;/</span><span class="s5">h4</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">select</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"status-filter"</span><span class="s4"> </span><span class="s7">onchange</span><span class="s3">=</span><span class="s1">"renderCards()"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s1">option</span><span class="s4"> </span><span class="s7">value</span><span class="s3">=</span><span class="s6">"all"</span><span class="s3">&gt;</span><span class="s4">All</span><span class="s3">&lt;/</span><span class="s1">option</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">option</span><span class="s1"> </span><span class="s7">value</span><span class="s3">=</span><span class="s6">"approved"</span><span class="s3">&gt;</span><span class="s1">Approved</span><span class="s3">&lt;/</span><span class="s5">option</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">option</span><span class="s1"> </span><span class="s7">value</span><span class="s3">=</span><span class="s6">"not-approved"</span><span class="s3">&gt;</span><span class="s1">Not Approved</span><span class="s3">&lt;/</span><span class="s5">option</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">option</span><span class="s1"> </span><span class="s7">value</span><span class="s3">=</span><span class="s6">"pending"</span><span class="s3">&gt;</span><span class="s1">Pending</span><span class="s3">&lt;/</span><span class="s5">option</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">select</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">h4</span><span class="s3">&gt;</span><span class="s1">Image Index</span><span class="s3">&lt;/</span><span class="s5">h4</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"image-index"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"main-content"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">label</span><span class="s1"> </span><span class="s7">for</span><span class="s3">=</span><span class="s6">"reviewer-name"</span><span class="s3">&gt;</span><span class="s1">Reviewer's Name</span><span class="s3">&lt;/</span><span class="s5">label</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">input</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"reviewer-name"</span><span class="s4"> </span><span class="s7">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s7">placeholder</span><span class="s3">=</span><span class="s1">"Enter your name"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"cards-container"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"image-modal"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"modal-content"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"position: relative;"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">span</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"modal-close-btn"</span><span class="s3">&gt;</span><span class="s4">&amp;times;</span><span class="s3">&lt;/</span><span class="s5">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"modal-nav left"</span><span class="s3">&gt;</span><span class="s4">&amp;#10094;</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"position: relative; display: inline-block;"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">img</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"modal-img"</span><span class="s4"> </span><span class="s7">src</span><span class="s3">=</span><span class="s1">""</span><span class="s4"> </span><span class="s7">alt</span><span class="s3">=</span><span class="s1">"Expanded Image"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"modal-version-badge"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s4">"</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">position</span><span class="s4">: </span><span class="s1">absolute</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">top</span><span class="s1">: </span><span class="s7">15px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">right</span><span class="s4">: </span><span class="s1">15px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">background</span><span class="s4">: #</span><span class="s1">e0c9ff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">color</span><span class="s4">: #</span><span class="s1">5c2a93</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">padding</span><span class="s4">: </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">12px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">font-size</span><span class="s4">: </span><span class="s1">14px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">font-weight</span><span class="s4">: </span><span class="s1">bold</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">border-radius</span><span class="s4">: </span><span class="s1">10px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">z-index</span><span class="s4">: </span><span class="s1">10002</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">user-select</span><span class="s4">: </span><span class="s1">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">pointer-events</span><span class="s4">: </span><span class="s1">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">display</span><span class="s4">: </span><span class="s1">none</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">  </span>"</span><span class="s1">&gt;&lt;/</span><span class="s5">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"modal-card-container"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"modal-nav right"</span><span class="s3">&gt;</span><span class="s4">&amp;#10095;</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"attachment-modal"</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"modal-attachment"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"display:none; position:fixed; z-index:10001; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; padding:40px;"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">span</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"attachment-close-btn"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"position:absolute; top:20px; right:30px; font-size:32px; color:#fff; cursor:pointer;"</span><span class="s3">&gt;</span><span class="s4">&amp;times;</span><span class="s3">&lt;/</span><span class="s5">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">img</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"attachment-modal-img"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"max-height:90vh; max-width:90vw; border-radius:8px; object-fit:contain;"</span><span class="s4"> </span><span class="s7">alt</span><span class="s3">=</span><span class="s1">"Attachment Preview"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s5">const</span><span class="s4"> </span><span class="s12">API_BASE</span><span class="s4"> = </span><span class="s1">'https://script.google.com/macros/s/AKfycbyapFnuPixReRQb2XygoFHZlmJV7_jUSmGgMc4ZUP8wRVK2uWNkIgXtHYKQZ3N5Q1Uutw/exec'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s5">let</span><span class="s1"> </span><span class="s13">images</span><span class="s1"> = [];</span></p>
<p class="p12"><span class="s5">let</span><span class="s4"> </span><span class="s1">feedbackData</span><span class="s4"> = [];</span></p>
<p class="p12"><span class="s5">let</span><span class="s4"> </span><span class="s1">currentFolderId</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s5">let</span><span class="s4"> </span><span class="s1">currentFolderName</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s5">let</span><span class="s4"> </span><span class="s1">currentUserName</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s1">window</span><span class="s4">.</span><span class="s1">onload</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">loadFolders</span><span class="s4">();</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">setupUserDropdown</span><span class="s4">();</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">stripExtension</span><span class="s4">(</span><span class="s1">filename</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">return</span><span class="s4"> </span><span class="s1">filename</span><span class="s4">.</span><span class="s1">replace</span><span class="s4">(</span><span class="s11">/\.[^/.]+$/</span><span class="s4">, </span><span class="s6">''</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">loadFolders</span><span class="s4">() {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">fetch</span><span class="s4">(</span><span class="s1">`</span><span class="s4">${</span><span class="s12">API_BASE</span><span class="s4">}</span><span class="s1">?action=getSubfolders`</span><span class="s4">)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">res</span><span class="s1"> =&gt; </span><span class="s13">res</span><span class="s1">.</span><span class="s13">json</span><span class="s1">())</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">folders</span><span class="s1"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">container</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'folders-container'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">container</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">folders</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">folder</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">btn</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'button'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">btn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">folder</span><span class="s4">.</span><span class="s1">name</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">btn</span><span class="s1">.</span><span class="s13">onclick</span><span class="s1"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">querySelectorAll</span><span class="s4">(</span><span class="s6">'#folders-container button'</span><span class="s4">).</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">b</span><span class="s4"> =&gt; </span><span class="s1">b</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">remove</span><span class="s4">(</span><span class="s6">'active-folder'</span><span class="s4">));</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">btn</span><span class="s1">.</span><span class="s13">classList</span><span class="s1">.</span><span class="s13">add</span><span class="s1">(</span><span class="s6">'active-folder'</span><span class="s1">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">loadImages</span><span class="s4">(</span><span class="s1">folder</span><span class="s4">.</span><span class="s1">id</span><span class="s4">, </span><span class="s1">folder</span><span class="s4">.</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">container</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">btn</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">folders</span><span class="s4">.</span><span class="s1">length</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">firstBtn</span><span class="s4"> = </span><span class="s1">container</span><span class="s4">.</span><span class="s1">querySelector</span><span class="s4">(</span><span class="s6">'button'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">firstBtn</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">firstBtn</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">add</span><span class="s4">(</span><span class="s6">'active-folder'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">loadImages</span><span class="s4">(</span><span class="s1">folders</span><span class="s4">[</span><span class="s7">0</span><span class="s4">].</span><span class="s1">id</span><span class="s4">, </span><span class="s1">folders</span><span class="s4">[</span><span class="s7">0</span><span class="s4">].</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">loadImages</span><span class="s4">(</span><span class="s1">folderId</span><span class="s4">, </span><span class="s1">folderName</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">currentFolderId</span><span class="s4"> = </span><span class="s1">folderId</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">currentFolderName</span><span class="s4"> = </span><span class="s1">folderName</span><span class="s4"> || </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fetch</span><span class="s4">(</span><span class="s6">`</span><span class="s4">${</span><span class="s12">API_BASE</span><span class="s4">}</span><span class="s6">?action=getImages&amp;folderId=</span><span class="s4">${</span><span class="s1">encodeURIComponent</span><span class="s4">(</span><span class="s1">folderId</span><span class="s4">)}</span><span class="s6">`</span><span class="s4">)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">res</span><span class="s1"> =&gt; </span><span class="s13">res</span><span class="s1">.</span><span class="s13">json</span><span class="s1">())</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">imgs</span><span class="s1"> =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s13">images</span><span class="s1"> = </span><span class="s13">imgs</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">loadFeedback</span><span class="s4">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">loadFeedback</span><span class="s4">(</span><span class="s1">onFinish</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">) {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">fetch</span><span class="s4">(</span><span class="s1">`</span><span class="s4">${</span><span class="s12">API_BASE</span><span class="s4">}</span><span class="s1">?action=getFeedback`</span><span class="s4">)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">res</span><span class="s1"> =&gt; </span><span class="s13">res</span><span class="s1">.</span><span class="s13">json</span><span class="s1">())</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">then</span><span class="s1">(</span><span class="s13">data</span><span class="s1"> =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s13">feedbackData</span><span class="s1"> = </span><span class="s13">data</span><span class="s1"> || [];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">renderCards</span><span class="s4">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s5">typeof</span><span class="s1"> </span><span class="s13">onFinish</span><span class="s1"> === </span><span class="s6">'function'</span><span class="s1">) </span><span class="s13">onFinish</span><span class="s1">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">renderCards</span><span class="s4">() {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">container</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'cards-container'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">indexContainer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'image-index'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">container</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">indexContainer</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">grouped</span><span class="s1"> = {};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">images</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">img</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">baseName</span><span class="s4"> = </span><span class="s1">stripExtension</span><span class="s4">(</span><span class="s1">img</span><span class="s4">.</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">splitIndex</span><span class="s4"> = </span><span class="s12">Math</span><span class="s4">.</span><span class="s1">min</span><span class="s4">(</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">indexOf</span><span class="s4">(</span><span class="s6">'_'</span><span class="s4">) &gt; -</span><span class="s7">1</span><span class="s4"> ? </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">indexOf</span><span class="s4">(</span><span class="s6">'_'</span><span class="s4">) : </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">length</span><span class="s4">,</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">indexOf</span><span class="s4">(</span><span class="s6">'-'</span><span class="s4">) &gt; -</span><span class="s7">1</span><span class="s4"> ? </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">indexOf</span><span class="s4">(</span><span class="s6">'-'</span><span class="s4">) : </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">length</span><span class="s4">,</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">11</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">familyId</span><span class="s4"> = </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">slice</span><span class="s4">(</span><span class="s7">0</span><span class="s4">, </span><span class="s1">splitIndex</span><span class="s4"> &lt; </span><span class="s7">8</span><span class="s4"> ? </span><span class="s7">8</span><span class="s4"> : </span><span class="s1">splitIndex</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">grouped</span><span class="s4">[</span><span class="s1">familyId</span><span class="s4">]) </span><span class="s1">grouped</span><span class="s4">[</span><span class="s1">familyId</span><span class="s4">] = [];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">grouped</span><span class="s4">[</span><span class="s1">familyId</span><span class="s4">].</span><span class="s1">push</span><span class="s4">(</span><span class="s1">img</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Flatten single-image families into shared row</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">sortedGroupKeys</span><span class="s4"> = </span><span class="s12">Object</span><span class="s4">.</span><span class="s1">keys</span><span class="s4">(</span><span class="s1">grouped</span><span class="s4">).</span><span class="s1">sort</span><span class="s4">();</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">combinedRows</span><span class="s4"> = [];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">tempRow</span><span class="s1"> = [];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">for</span><span class="s4"> (</span><span class="s5">let</span><span class="s4"> </span><span class="s1">i</span><span class="s4"> = </span><span class="s7">0</span><span class="s4">; </span><span class="s1">i</span><span class="s4"> &lt; </span><span class="s1">sortedGroupKeys</span><span class="s4">.</span><span class="s1">length</span><span class="s4">; </span><span class="s1">i</span><span class="s4">++) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">key</span><span class="s4"> = </span><span class="s1">sortedGroupKeys</span><span class="s4">[</span><span class="s1">i</span><span class="s4">];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">imgs</span><span class="s4"> = </span><span class="s1">grouped</span><span class="s4">[</span><span class="s1">key</span><span class="s4">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">imgs</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> === </span><span class="s7">1</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">tempRow</span><span class="s1">.</span><span class="s13">push</span><span class="s1">({ </span><span class="s13">key</span><span class="s1">, </span><span class="s13">imgs</span><span class="s1"> });</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">tempRow</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> === </span><span class="s7">2</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">combinedRows</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">tempRow</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">tempRow</span><span class="s1"> = [];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">tempRow</span><span class="s1">.</span><span class="s13">length</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">combinedRows</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">tempRow</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">tempRow</span><span class="s1"> = [];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">combinedRows</span><span class="s4">.</span><span class="s1">push</span><span class="s4">([{ </span><span class="s1">key</span><span class="s4">, </span><span class="s1">imgs</span><span class="s4"> }]);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">tempRow</span><span class="s4">.</span><span class="s1">length</span><span class="s4">) </span><span class="s1">combinedRows</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">tempRow</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">combinedRows</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">rowGroups</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">familyRow</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">familyRow</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'group-cards'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">let</span><span class="s4"> </span><span class="s1">hasVisibleCards</span><span class="s4"> = </span><span class="s5">false</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">rowGroups</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(({ </span><span class="s1">key</span><span class="s4">, </span><span class="s1">imgs</span><span class="s4"> }) =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">versionStacks</span><span class="s1"> = {};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">imgs</span><span class="s1">.</span><span class="s13">forEach</span><span class="s1">(</span><span class="s13">img</span><span class="s1"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">baseName</span><span class="s4"> = </span><span class="s1">stripExtension</span><span class="s4">(</span><span class="s1">img</span><span class="s4">.</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">versionKey</span><span class="s4"> = </span><span class="s1">baseName</span><span class="s4">.</span><span class="s1">replace</span><span class="s4">(</span><span class="s11">/-V\d+$/</span><span class="s4">, </span><span class="s6">''</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">versionStacks</span><span class="s4">[</span><span class="s1">versionKey</span><span class="s4">]) </span><span class="s1">versionStacks</span><span class="s4">[</span><span class="s1">versionKey</span><span class="s4">] = [];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">versionStacks</span><span class="s4">[</span><span class="s1">versionKey</span><span class="s4">].</span><span class="s1">push</span><span class="s4">(</span><span class="s1">img</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">sortedKeys</span><span class="s4"> = </span><span class="s12">Object</span><span class="s4">.</span><span class="s1">keys</span><span class="s4">(</span><span class="s1">versionStacks</span><span class="s4">).</span><span class="s1">sort</span><span class="s4">((</span><span class="s1">a</span><span class="s4">, </span><span class="s1">b</span><span class="s4">) =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">aPrimary</span><span class="s1"> = !</span><span class="s13">a</span><span class="s1">.</span><span class="s13">includes</span><span class="s1">(</span><span class="s6">'_'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">bPrimary</span><span class="s1"> = !</span><span class="s13">b</span><span class="s1">.</span><span class="s13">includes</span><span class="s1">(</span><span class="s6">'_'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">aPrimary</span><span class="s1"> !== </span><span class="s13">bPrimary</span><span class="s1">) </span><span class="s5">return</span><span class="s1"> </span><span class="s13">aPrimary</span><span class="s1"> ? -</span><span class="s7">1</span><span class="s1"> : </span><span class="s7">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">return</span><span class="s1"> </span><span class="s13">a</span><span class="s1">.</span><span class="s13">localeCompare</span><span class="s1">(</span><span class="s13">b</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">sortedKeys</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">stackKey</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">stackImages</span><span class="s4"> = </span><span class="s1">versionStacks</span><span class="s4">[</span><span class="s1">stackKey</span><span class="s4">];</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">primaryStack</span><span class="s1"> = [];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">versionedStack</span><span class="s1"> = [];</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">stackImages</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">img</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">base</span><span class="s4"> = </span><span class="s1">stripExtension</span><span class="s4">(</span><span class="s1">img</span><span class="s4">.</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s11">/-V\d+$/</span><span class="s1">.</span><span class="s13">test</span><span class="s1">(</span><span class="s13">base</span><span class="s1">)) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">versionedStack</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">img</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">primaryStack</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">img</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">allStacked</span><span class="s4"> = [...</span><span class="s1">versionedStack</span><span class="s4">, ...</span><span class="s1">primaryStack</span><span class="s4">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">allStacked</span><span class="s1">.</span><span class="s13">sort</span><span class="s1">((</span><span class="s13">a</span><span class="s1">, </span><span class="s13">b</span><span class="s1">) =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">aVer</span><span class="s1"> = </span><span class="s13">parseInt</span><span class="s1">((</span><span class="s13">a</span><span class="s1">.</span><span class="s13">name</span><span class="s1">.</span><span class="s13">match</span><span class="s1">(</span><span class="s11">/-V(\d+)/</span><span class="s1">) || [])[</span><span class="s7">1</span><span class="s1">] || </span><span class="s6">'1'</span><span class="s1">, </span><span class="s7">10</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">bVer</span><span class="s1"> = </span><span class="s13">parseInt</span><span class="s1">((</span><span class="s13">b</span><span class="s1">.</span><span class="s13">name</span><span class="s1">.</span><span class="s13">match</span><span class="s1">(</span><span class="s11">/-V(\d+)/</span><span class="s1">) || [])[</span><span class="s7">1</span><span class="s1">] || </span><span class="s6">'1'</span><span class="s1">, </span><span class="s7">10</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">return</span><span class="s1"> </span><span class="s13">bVer</span><span class="s1"> - </span><span class="s13">aVer</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">allStacked</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> === </span><span class="s7">0</span><span class="s1">) </span><span class="s5">return</span><span class="s1">; </span><span class="s14">// Safety</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">versionCard</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">versionCard</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = !</span><span class="s1">stackKey</span><span class="s4">.</span><span class="s1">includes</span><span class="s4">(</span><span class="s6">'_'</span><span class="s4">) &amp;&amp; !</span><span class="s1">allStacked</span><span class="s4">[</span><span class="s7">0</span><span class="s4">].</span><span class="s1">name</span><span class="s4">.</span><span class="s1">includes</span><span class="s4">(</span><span class="s6">'_'</span><span class="s4">) ? </span><span class="s6">'card primary'</span><span class="s4"> : </span><span class="s6">'card'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">versionCard</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">position</span><span class="s4"> = </span><span class="s6">'relative'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">toggleBadge</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s13">toggleBadge</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">'status-box version-toggle'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">backgroundColor</span><span class="s4"> = </span><span class="s6">'#e2d4f9'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">color</span><span class="s4"> = </span><span class="s6">'#5c4084'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">cursor</span><span class="s4"> = </span><span class="s6">'pointer'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">position</span><span class="s4"> = </span><span class="s6">'absolute'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">top</span><span class="s4"> = </span><span class="s6">'10px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">right</span><span class="s4"> = </span><span class="s6">'10px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">versionCard</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">toggleBadge</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">currentIndex</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">imageSections</span><span class="s4"> = </span><span class="s1">allStacked</span><span class="s4">.</span><span class="s1">map</span><span class="s4">((</span><span class="s1">img</span><span class="s4">, </span><span class="s1">i</span><span class="s4">) =&gt; </span><span class="s1">buildCardSection</span><span class="s4">(</span><span class="s1">img</span><span class="s4">, </span><span class="s1">i</span><span class="s4"> === </span><span class="s7">0</span><span class="s4">)).</span><span class="s1">filter</span><span class="s4">(</span><span class="s12">Boolean</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s13">imageSections</span><span class="s4">.</span><span class="s13">length</span><span class="s4"> === </span><span class="s7">0</span><span class="s4">) </span><span class="s5">return</span><span class="s4">; </span><span class="s1">// Skip this card entirely</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">hasVisibleCards</span><span class="s4"> = </span><span class="s5">true</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">imageSections</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">section</span><span class="s4"> =&gt; </span><span class="s1">versionCard</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">section</span><span class="s4">));</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">imageSections</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> &gt; </span><span class="s7">1</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">`Version </span><span class="s4">${</span><span class="s1">getVersionNumber</span><span class="s4">(</span><span class="s1">allStacked</span><span class="s4">[</span><span class="s7">0</span><span class="s4">].</span><span class="s1">name</span><span class="s4">)}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">toggleBadge</span><span class="s1">.</span><span class="s13">onclick</span><span class="s1"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">imageSections</span><span class="s4">[</span><span class="s1">currentIndex</span><span class="s4">].</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">currentIndex</span><span class="s4"> = (</span><span class="s1">currentIndex</span><span class="s4"> + </span><span class="s7">1</span><span class="s4">) % </span><span class="s1">imageSections</span><span class="s4">.</span><span class="s1">length</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">imageSections</span><span class="s4">[</span><span class="s1">currentIndex</span><span class="s4">].</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'block'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">              </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">`Version </span><span class="s4">${</span><span class="s1">getVersionNumber</span><span class="s4">(</span><span class="s1">allStacked</span><span class="s4">[</span><span class="s1">currentIndex</span><span class="s4">].</span><span class="s1">name</span><span class="s4">)}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">toggleBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">familyRow</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">versionCard</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">indexEntry</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">indexEntry</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'image-index-entry'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">indexEntry</span><span class="s1">.</span><span class="s13">onclick</span><span class="s1"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">versionCard</span><span class="s4">.</span><span class="s1">scrollIntoView</span><span class="s4">({ </span><span class="s1">behavior</span><span class="s4">: </span><span class="s6">'smooth'</span><span class="s4">, </span><span class="s1">block</span><span class="s4">: </span><span class="s6">'start'</span><span class="s4"> });</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">label</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'span'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">label</span><span class="s1">.</span><span class="s13">className</span><span class="s1"> = </span><span class="s6">'label'</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">label</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">stripVersion</span><span class="s4">(</span><span class="s1">stripExtension</span><span class="s4">(</span><span class="s1">allStacked</span><span class="s4">[</span><span class="s7">0</span><span class="s4">].</span><span class="s1">name</span><span class="s4">));</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">indexEntry</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">label</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">feedback</span><span class="s4"> = </span><span class="s1">feedbackData</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>.</span><span class="s13">filter</span><span class="s1">(</span><span class="s13">f</span><span class="s1"> =&gt; </span><span class="s13">f</span><span class="s1">[</span><span class="s6">'Image Name'</span><span class="s1">] === </span><span class="s13">allStacked</span><span class="s1">[</span><span class="s7">0</span><span class="s1">].</span><span class="s13">name</span><span class="s1">)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>.</span><span class="s13">sort</span><span class="s1">((</span><span class="s13">a</span><span class="s1">, </span><span class="s13">b</span><span class="s1">) =&gt; </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s1">(</span><span class="s13">b</span><span class="s1">.</span><span class="s12">Timestamp</span><span class="s1">) - </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s1">(</span><span class="s13">a</span><span class="s1">.</span><span class="s12">Timestamp</span><span class="s1">));</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">latest</span><span class="s1"> = </span><span class="s13">feedback</span><span class="s1">[</span><span class="s7">0</span><span class="s1">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">approved</span><span class="s1"> = </span><span class="s13">latest</span><span class="s1">?.</span><span class="s12">Approved</span><span class="s1"> === </span><span class="s6">'Yes'</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">hasFeedback</span><span class="s4"> = </span><span class="s1">feedback</span><span class="s4">.</span><span class="s1">length</span><span class="s4"> &gt; </span><span class="s7">0</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">badge</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'span'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s13">badge</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">`status-box </span><span class="s4">${</span><span class="s13">hasFeedback</span><span class="s4"> ? (</span><span class="s13">approved</span><span class="s4"> ? </span><span class="s1">'status-approved'</span><span class="s4"> : </span><span class="s1">'status-not-approved'</span><span class="s4">) : </span><span class="s1">'status-pending'</span><span class="s4">}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">badge</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">hasFeedback</span><span class="s4"> ? (</span><span class="s1">approved</span><span class="s4"> ? </span><span class="s6">'Approved'</span><span class="s4"> : </span><span class="s6">'Not Approved'</span><span class="s4">) : </span><span class="s6">'Pending'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">indexEntry</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">badge</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">indexContainer</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">indexEntry</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">hasVisibleCards</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">container</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">familyRow</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">getVersionNumber</span><span class="s4">(</span><span class="s1">name</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">match</span><span class="s4"> = </span><span class="s1">name</span><span class="s4">.</span><span class="s1">match</span><span class="s4">(</span><span class="s11">/-V(\d+)/</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">return</span><span class="s1"> </span><span class="s13">match</span><span class="s1"> ? </span><span class="s13">match</span><span class="s1">[</span><span class="s7">1</span><span class="s1">] : </span><span class="s6">'1'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">stripVersion</span><span class="s4">(</span><span class="s1">name</span><span class="s4">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">return</span><span class="s1"> </span><span class="s13">name</span><span class="s1">.</span><span class="s13">replace</span><span class="s1">(</span><span class="s11">/-V\d+$/</span><span class="s1">, </span><span class="s6">''</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">buildCardSection</span><span class="s4">(</span><span class="s1">img</span><span class="s4">, </span><span class="s1">show</span><span class="s4"> = </span><span class="s5">true</span><span class="s4">, </span><span class="s1">onRefresh</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">, </span><span class="s1">viewMode</span><span class="s4"> = </span><span class="s6">'card'</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">isModal</span><span class="s4"> = </span><span class="s1">viewMode</span><span class="s4"> === </span><span class="s6">'modal'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">uniquePrefix</span><span class="s4"> = </span><span class="s6">`</span><span class="s4">${</span><span class="s1">viewMode</span><span class="s4">}</span><span class="s6">-</span><span class="s4">${</span><span class="s1">img</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">wrapper</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s1">show</span><span class="s4"> ? </span><span class="s6">'block'</span><span class="s4"> : </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">feedback</span><span class="s4"> = </span><span class="s1">feedbackData</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">filter</span><span class="s1">(</span><span class="s13">f</span><span class="s1"> =&gt; </span><span class="s13">f</span><span class="s1">[</span><span class="s6">'Image Name'</span><span class="s1">] === </span><span class="s13">img</span><span class="s1">.</span><span class="s13">name</span><span class="s1">)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>.</span><span class="s13">sort</span><span class="s1">((</span><span class="s13">a</span><span class="s1">, </span><span class="s13">b</span><span class="s1">) =&gt; </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s1">(</span><span class="s13">b</span><span class="s1">.</span><span class="s12">Timestamp</span><span class="s1">) - </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s1">(</span><span class="s13">a</span><span class="s1">.</span><span class="s12">Timestamp</span><span class="s1">));</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">latest</span><span class="s4"> = </span><span class="s1">feedback</span><span class="s4">[</span><span class="s7">0</span><span class="s4">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">approved</span><span class="s1"> = </span><span class="s13">latest</span><span class="s1">?.</span><span class="s12">Approved</span><span class="s1"> === </span><span class="s6">'Yes'</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">hasFeedback</span><span class="s4"> = </span><span class="s1">feedback</span><span class="s4">.</span><span class="s1">length</span><span class="s4"> &gt; </span><span class="s7">0</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">filter</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'status-filter'</span><span class="s4">).</span><span class="s1">value</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s1"> (</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>(</span><span class="s13">filter</span><span class="s1"> === </span><span class="s6">'approved'</span><span class="s1"> &amp;&amp; !</span><span class="s13">approved</span><span class="s1">) ||</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>(</span><span class="s13">filter</span><span class="s1"> === </span><span class="s6">'not-approved'</span><span class="s1"> &amp;&amp; </span><span class="s13">approved</span><span class="s1">) ||</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span>(</span><span class="s1">filter</span><span class="s4"> === </span><span class="s6">'pending'</span><span class="s4"> &amp;&amp; </span><span class="s1">hasFeedback</span><span class="s4">)</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span>) </span><span class="s1">return</span><span class="s4"> </span><span class="s1">null</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">fixedStatus</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">fixedStatus</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">`status-box fixed-status </span><span class="s4">${</span><span class="s13">hasFeedback</span><span class="s4"> ? (</span><span class="s13">approved</span><span class="s4"> ? </span><span class="s1">'status-approved'</span><span class="s4"> : </span><span class="s1">'status-not-approved'</span><span class="s4">) : </span><span class="s1">'status-pending'</span><span class="s4">}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">fixedStatus</span><span class="s4">.</span><span class="s13">textContent</span><span class="s4"> = </span><span class="s13">hasFeedback</span><span class="s4"> ? (</span><span class="s13">approved</span><span class="s4"> ? </span><span class="s1">'Approved'</span><span class="s4"> : </span><span class="s1">'Not Approved'</span><span class="s4">) : </span><span class="s1">'Pending Approval'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">fixedStatus</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">imageWrapper</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">imageWrapper</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'image-wrapper'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">imageEl</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'img'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">imageEl</span><span class="s4">.</span><span class="s1">src</span><span class="s4"> = </span><span class="s1">img</span><span class="s4">.</span><span class="s1">url</span><span class="s4">.</span><span class="s1">replace</span><span class="s4">(</span><span class="s11">/=w\d+-h\d+/</span><span class="s4">, </span><span class="s6">'=w1000-h800'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">imageEl</span><span class="s4">.</span><span class="s1">alt</span><span class="s4"> = </span><span class="s1">img</span><span class="s4">.</span><span class="s1">name</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">imageEl</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">index</span><span class="s4"> = </span><span class="s1">images</span><span class="s4">.</span><span class="s1">findIndex</span><span class="s4">(</span><span class="s1">i</span><span class="s4"> =&gt; </span><span class="s1">i</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> === </span><span class="s1">img</span><span class="s4">.</span><span class="s1">id</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">showModal</span><span class="s4">(</span><span class="s1">img</span><span class="s4">.</span><span class="s1">url</span><span class="s4">, </span><span class="s1">img</span><span class="s4">, </span><span class="s1">index</span><span class="s4">, </span><span class="s1">images</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">imageWrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">imageEl</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">imageWrapper</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">baseName</span><span class="s4"> = </span><span class="s1">img</span><span class="s4">.</span><span class="s1">name</span><span class="s4">.</span><span class="s1">replace</span><span class="s4">(</span><span class="s11">/\.[^/.]+$/</span><span class="s4">, </span><span class="s6">''</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">nameContainer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">nameContainer</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'name-container'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">nameContainer</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">baseName</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">nameContainer</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">textareaWrapper</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textareaWrapper</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'textarea-wrapper'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">textarea</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'textarea'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textarea</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> = </span><span class="s6">`comments-input-</span><span class="s4">${</span><span class="s1">uniquePrefix</span><span class="s4">}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">textarea</span><span class="s4">.</span><span class="s13">placeholder</span><span class="s4"> = </span><span class="s1">'Write your feedback here...'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textareaWrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">textarea</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">fileInput</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'input'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">type</span><span class="s4"> = </span><span class="s6">'file'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">accept</span><span class="s4"> = </span><span class="s6">'image/*'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">multiple</span><span class="s4"> = </span><span class="s5">true</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> = </span><span class="s6">`file-input-</span><span class="s4">${</span><span class="s1">uniquePrefix</span><span class="s4">}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">attachLabel</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'span'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">attachLabel</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">'attach-reference-label'</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">attachLabel</span><span class="s4">.</span><span class="s13">textContent</span><span class="s4"> = </span><span class="s1">'Attach Reference Image'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">attachLabel</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = () =&gt; </span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">click</span><span class="s4">();</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">attachContainer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">attachContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">attachContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">justifyContent</span><span class="s4"> = </span><span class="s6">'flex-end'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">attachContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">marginTop</span><span class="s4"> = </span><span class="s6">'6px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">attachContainer</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">attachLabel</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">previewContainer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> = </span><span class="s6">`preview-container-</span><span class="s4">${</span><span class="s1">uniquePrefix</span><span class="s4">}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">marginTop</span><span class="s4"> = </span><span class="s6">'10px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">flexWrap</span><span class="s4"> = </span><span class="s6">'wrap'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">gap</span><span class="s4"> = </span><span class="s6">'6px'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">onchange</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">files</span><span class="s4"> = </span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">files</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">for</span><span class="s1"> (</span><span class="s5">let</span><span class="s1"> </span><span class="s13">i</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">; </span><span class="s13">i</span><span class="s1"> &lt; </span><span class="s13">files</span><span class="s1">.</span><span class="s13">length</span><span class="s1">; </span><span class="s13">i</span><span class="s1">++) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">file</span><span class="s1"> = </span><span class="s13">files</span><span class="s1">[</span><span class="s13">i</span><span class="s1">];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">file</span><span class="s4">.</span><span class="s1">type</span><span class="s4">.</span><span class="s1">startsWith</span><span class="s4">(</span><span class="s6">'image/'</span><span class="s4">)) </span><span class="s5">continue</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">reader</span><span class="s1"> = </span><span class="s5">new</span><span class="s1"> </span><span class="s12">FileReader</span><span class="s1">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s13">reader</span><span class="s1">.</span><span class="s13">onload</span><span class="s1"> = (</span><span class="s13">e</span><span class="s1">) =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">thumb</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'img'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">src</span><span class="s4"> = </span><span class="s1">e</span><span class="s4">.</span><span class="s1">target</span><span class="s4">.</span><span class="s1">result</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">width</span><span class="s4"> = </span><span class="s6">'60px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">height</span><span class="s4"> = </span><span class="s6">'60px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">objectFit</span><span class="s4"> = </span><span class="s6">'cover'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">borderRadius</span><span class="s4"> = </span><span class="s6">'4px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">cursor</span><span class="s4"> = </span><span class="s6">'pointer'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">title</span><span class="s4"> = </span><span class="s1">file</span><span class="s4">.</span><span class="s1">name</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = () =&gt; </span><span class="s1">showAttachmentModal</span><span class="s4">(</span><span class="s1">e</span><span class="s4">.</span><span class="s1">target</span><span class="s4">.</span><span class="s1">result</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">thumb</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">reader</span><span class="s4">.</span><span class="s1">readAsDataURL</span><span class="s4">(</span><span class="s1">file</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textareaWrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">fileInput</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textareaWrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">previewContainer</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">textareaWrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">attachContainer</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">textareaWrapper</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">actionRow</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">actionRow</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'action-row'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">statusBox</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">statusBox</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">`status-box toggle-status-btn </span><span class="s4">${</span><span class="s13">approved</span><span class="s4"> ? </span><span class="s1">'status-approved'</span><span class="s4"> : </span><span class="s1">'status-not-approved'</span><span class="s4">}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">approved</span><span class="s4"> ? </span><span class="s6">'Approved'</span><span class="s4"> : </span><span class="s6">'Not Approved'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">isApproved</span><span class="s4"> = </span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">contains</span><span class="s4">(</span><span class="s6">'status-approved'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">toggle</span><span class="s4">(</span><span class="s6">'status-approved'</span><span class="s4">, !</span><span class="s1">isApproved</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">toggle</span><span class="s4">(</span><span class="s6">'status-not-approved'</span><span class="s4">, </span><span class="s1">isApproved</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = !</span><span class="s1">isApproved</span><span class="s4"> ? </span><span class="s6">'Approved'</span><span class="s4"> : </span><span class="s6">'Not Approved'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">actionRow</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">statusBox</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">submitBtn</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'button'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'submit-btn'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Submit'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = </span><span class="s5">async</span><span class="s4"> () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">reviewer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'reviewer-name'</span><span class="s4">).</span><span class="s1">value</span><span class="s4">.</span><span class="s1">trim</span><span class="s4">();</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s13">reviewer</span><span class="s4">) </span><span class="s5">return</span><span class="s4"> </span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'Please enter your name.'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">let</span><span class="s4"> </span><span class="s1">comment</span><span class="s4"> = </span><span class="s1">textarea</span><span class="s4">.</span><span class="s1">value</span><span class="s4">.</span><span class="s1">trim</span><span class="s4">();</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">isApproved</span><span class="s4"> = </span><span class="s1">statusBox</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">contains</span><span class="s4">(</span><span class="s6">'status-approved'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">comment</span><span class="s4"> &amp;&amp; </span><span class="s1">isApproved</span><span class="s4">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">now</span><span class="s1"> = </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s1">();</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">comment</span><span class="s4"> = </span><span class="s6">`Approved on </span><span class="s4">${</span><span class="s1">now</span><span class="s4">.</span><span class="s1">toLocaleTimeString</span><span class="s4">([], { </span><span class="s1">hour</span><span class="s4">: </span><span class="s6">'2-digit'</span><span class="s4">, </span><span class="s1">minute</span><span class="s4">: </span><span class="s6">'2-digit'</span><span class="s4"> })}</span><span class="s6"> - </span><span class="s4">${</span><span class="s1">now</span><span class="s4">.</span><span class="s1">toLocaleDateString</span><span class="s4">([], { </span><span class="s1">day</span><span class="s4">: </span><span class="s6">'numeric'</span><span class="s4">, </span><span class="s1">month</span><span class="s4">: </span><span class="s6">'short'</span><span class="s4"> }).</span><span class="s1">toUpperCase</span><span class="s4">()}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s13">comment</span><span class="s4"> &amp;&amp; !</span><span class="s13">isApproved</span><span class="s4">) </span><span class="s5">return</span><span class="s4"> </span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'Please add a comment or approve.'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">disabled</span><span class="s4"> = </span><span class="s5">true</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Uploading...'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">attachments</span><span class="s1"> = [];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">try</span><span class="s1"> {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">files</span><span class="s4"> = </span><span class="s1">fileInput</span><span class="s4">.</span><span class="s1">files</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">for</span><span class="s1"> (</span><span class="s5">let</span><span class="s1"> </span><span class="s13">i</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">; </span><span class="s13">i</span><span class="s1"> &lt; </span><span class="s13">files</span><span class="s1">.</span><span class="s13">length</span><span class="s1">; </span><span class="s13">i</span><span class="s1">++) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">file</span><span class="s1"> = </span><span class="s13">files</span><span class="s1">[</span><span class="s13">i</span><span class="s1">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (!</span><span class="s13">file</span><span class="s1">.</span><span class="s13">type</span><span class="s1">.</span><span class="s13">startsWith</span><span class="s1">(</span><span class="s6">'image/'</span><span class="s1">)) </span><span class="s5">continue</span><span class="s1">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">base64</span><span class="s1"> = </span><span class="s5">await</span><span class="s1"> </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Promise</span><span class="s1">((</span><span class="s13">resolve</span><span class="s1">, </span><span class="s13">reject</span><span class="s1">) =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">reader</span><span class="s1"> = </span><span class="s5">new</span><span class="s1"> </span><span class="s12">FileReader</span><span class="s1">();</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">reader</span><span class="s4">.</span><span class="s1">onload</span><span class="s4"> = </span><span class="s1">e</span><span class="s4"> =&gt; </span><span class="s1">resolve</span><span class="s4">(</span><span class="s1">e</span><span class="s4">.</span><span class="s1">target</span><span class="s4">.</span><span class="s1">result</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">reader</span><span class="s4">.</span><span class="s1">onerror</span><span class="s4"> = </span><span class="s1">reject</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">reader</span><span class="s4">.</span><span class="s1">readAsDataURL</span><span class="s4">(</span><span class="s1">file</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">url</span><span class="s1"> = </span><span class="s5">await</span><span class="s1"> </span><span class="s5">new</span><span class="s1"> </span><span class="s12">Promise</span><span class="s1">((</span><span class="s13">resolve</span><span class="s1">, </span><span class="s13">reject</span><span class="s1">) =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span>.</span><span class="s1">withSuccessHandler</span><span class="s4">(</span><span class="s1">resolve</span><span class="s4">)</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span>.</span><span class="s1">withFailureHandler</span><span class="s4">(</span><span class="s1">reject</span><span class="s4">)</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">            </span>.</span><span class="s1">uploadAttachment</span><span class="s4">(</span><span class="s1">base64</span><span class="s4">, </span><span class="s1">file</span><span class="s4">.</span><span class="s1">name</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">attachments</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">url</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">payload</span><span class="s1"> = {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">reviewer</span><span class="s1">,</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">folderName</span><span class="s4">: </span><span class="s1">currentFolderName</span><span class="s4">,</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">images</span><span class="s1">: [{</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">id</span><span class="s1">: </span><span class="s13">img</span><span class="s1">.</span><span class="s13">id</span><span class="s1">,</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">name</span><span class="s1">: </span><span class="s13">img</span><span class="s1">.</span><span class="s13">name</span><span class="s1">,</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">comments</span><span class="s4">: </span><span class="s1">comment</span><span class="s4">,</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">approved</span><span class="s4">: </span><span class="s1">isApproved</span><span class="s4">,</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">attachments</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>}]</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">withSuccessHandler</span><span class="s4">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">textarea</span><span class="s1">.</span><span class="s13">value</span><span class="s1"> = </span><span class="s6">''</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">fileInput</span><span class="s1">.</span><span class="s13">value</span><span class="s1"> = </span><span class="s6">''</span><span class="s1">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">previewContainer</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">disabled</span><span class="s4"> = </span><span class="s5">false</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Submit'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">loadFeedback</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">setTimeout</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">              </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s5">typeof</span><span class="s1"> </span><span class="s13">onRefresh</span><span class="s1"> === </span><span class="s6">'function'</span><span class="s1">) </span><span class="s13">onRefresh</span><span class="s1">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span>}, </span><span class="s7">50</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">          </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>})</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">withFailureHandler</span><span class="s4">(</span><span class="s1">err</span><span class="s4"> =&gt; {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'Failed to save feedback: '</span><span class="s4"> + </span><span class="s13">err</span><span class="s4">.</span><span class="s13">message</span><span class="s4"> || </span><span class="s13">err</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">disabled</span><span class="s4"> = </span><span class="s5">false</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Submit'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>})</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">saveFeedback</span><span class="s4">(</span><span class="s1">payload</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>} </span><span class="s5">catch</span><span class="s1"> (</span><span class="s13">err</span><span class="s1">) {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'Error uploading: '</span><span class="s4"> + </span><span class="s13">err</span><span class="s4">.</span><span class="s13">message</span><span class="s4"> || </span><span class="s13">err</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">disabled</span><span class="s4"> = </span><span class="s5">false</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">submitBtn</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Submit'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">actionRow</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">submitBtn</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">actionRow</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">commentsLabel</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">commentsLabel</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'comments-label'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">commentsLabel</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'Comments'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">commentsLabel</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">feedbackList</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">feedbackList</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'feedback-list'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">feedback</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">fb</span><span class="s4"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">div</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">stat</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'span'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s13">stat</span><span class="s4">.</span><span class="s13">className</span><span class="s4"> = </span><span class="s1">`status-box </span><span class="s4">${</span><span class="s13">fb</span><span class="s4">.</span><span class="s12">Approved</span><span class="s4"> === </span><span class="s1">'Yes'</span><span class="s4"> ? </span><span class="s1">'status-approved'</span><span class="s4"> : </span><span class="s1">'status-not-approved'</span><span class="s4">}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s13">stat</span><span class="s4">.</span><span class="s13">textContent</span><span class="s4"> = </span><span class="s13">fb</span><span class="s4">.</span><span class="s12">Approved</span><span class="s4"> === </span><span class="s1">'Yes'</span><span class="s4"> ? </span><span class="s1">'Approved'</span><span class="s4"> : </span><span class="s1">'Not Approved'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">div</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">stat</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">div</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">document</span><span class="s4">.</span><span class="s1">createTextNode</span><span class="s4">(</span><span class="s6">` </span><span class="s4">${</span><span class="s1">fb</span><span class="s4">.</span><span class="s12">Reviewer</span><span class="s4"> || </span><span class="s6">'Unknown'</span><span class="s4">}</span><span class="s6">: </span><span class="s4">${</span><span class="s1">fb</span><span class="s4">.</span><span class="s12">Comments</span><span class="s4">}</span><span class="s6">`</span><span class="s4">));</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">fb</span><span class="s1">.</span><span class="s12">Attachments</span><span class="s1">?.</span><span class="s13">length</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">attachDiv</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'div'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">attachDiv</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">attachDiv</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">flexWrap</span><span class="s4"> = </span><span class="s6">'wrap'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">attachDiv</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">gap</span><span class="s4"> = </span><span class="s6">'6px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">attachDiv</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">marginTop</span><span class="s4"> = </span><span class="s6">'6px'</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s13">fb</span><span class="s1">.</span><span class="s12">Attachments</span><span class="s1">.</span><span class="s13">forEach</span><span class="s1">(</span><span class="s13">url</span><span class="s1"> =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">thumb</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'img'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">thumb</span><span class="s1">.</span><span class="s13">src</span><span class="s1"> = </span><span class="s13">url</span><span class="s1">.</span><span class="s13">replace</span><span class="s1">(</span><span class="s11">/=s\d+-w\d+-h\d+/</span><span class="s1">, </span><span class="s6">'=s80-w80-h80'</span><span class="s1">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">width</span><span class="s4"> = </span><span class="s6">'60px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">height</span><span class="s4"> = </span><span class="s6">'60px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">objectFit</span><span class="s4"> = </span><span class="s6">'cover'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">borderRadius</span><span class="s4"> = </span><span class="s6">'4px'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">thumb</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">cursor</span><span class="s4"> = </span><span class="s6">'pointer'</span><span class="s4">;</span></p>
<p class="p12"><span class="s1">thumb</span><span class="s4">.</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s13">console</span><span class="s4">.</span><span class="s13">log</span><span class="s4">(</span><span class="s1">'Clicked attachment in card view:'</span><span class="s4">, </span><span class="s13">url</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">showAttachmentModal</span><span class="s4">(</span><span class="s1">url</span><span class="s4">);</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">attachDiv</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">thumb</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">div</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">attachDiv</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">del</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">createElement</span><span class="s4">(</span><span class="s6">'span'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">del</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'delete-btn'</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">del</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'×'</span><span class="s4">;</span></p>
<p class="p6"><span class="s13">del</span><span class="s1">.</span><span class="s13">onclick</span><span class="s1"> = () =&gt; {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s13">confirm</span><span class="s4">(</span><span class="s1">'Delete this comment?'</span><span class="s4">)) </span><span class="s5">return</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span><span class="s4">.</span><span class="s1">withSuccessHandler</span><span class="s4">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s13">loadFeedback</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">viewMode</span><span class="s1"> === </span><span class="s6">'modal'</span><span class="s1"> &amp;&amp; </span><span class="s5">typeof</span><span class="s1"> </span><span class="s13">onRefresh</span><span class="s1"> === </span><span class="s6">'function'</span><span class="s1">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s13">onRefresh</span><span class="s4">(); </span><span class="s1">// rebuild modal card UI after deletion</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">renderCards</span><span class="s1">();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span>}).</span><span class="s1">deleteFeedbackEntry</span><span class="s4">(</span></p>
<p class="p13"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s13">fb</span><span class="s4">.</span><span class="s1">Timestamp</span><span class="s4">, </span><span class="s13">fb</span><span class="s4">.</span><span class="s1">Reviewer</span><span class="s4">, </span><span class="s13">fb</span><span class="s4">[</span><span class="s6">'Image Name'</span><span class="s4">], </span><span class="s13">fb</span><span class="s4">.</span><span class="s1">Comments</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>);</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">div</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">del</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">feedbackList</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">div</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">wrapper</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">feedbackList</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">return</span><span class="s4"> </span><span class="s1">wrapper</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">showModal</span><span class="s4">(</span><span class="s1">imageUrl</span><span class="s4">, </span><span class="s1">imageObj</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">, </span><span class="s1">index</span><span class="s4"> = </span><span class="s7">0</span><span class="s4">, </span><span class="s1">fullImageList</span><span class="s4"> = []) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">modal</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'image-modal'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">img</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'modal-img'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">cardContainer</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'modal-card-container'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">versionBadge</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'modal-version-badge'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Set the main modal image URL with better resolution</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">img</span><span class="s4">.</span><span class="s1">src</span><span class="s4"> = </span><span class="s1">imageUrl</span><span class="s4">.</span><span class="s1">replace</span><span class="s4">(</span><span class="s11">/sz=w\d+-h\d+/</span><span class="s4">, </span><span class="s6">'sz=w1200-h900'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Show or hide version badge based on image name pattern</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">versionMatch</span><span class="s4"> = </span><span class="s1">imageObj</span><span class="s4">?.</span><span class="s1">name</span><span class="s4">.</span><span class="s1">match</span><span class="s4">(</span><span class="s11">/-V(\d+)$/</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">versionMatch</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">versionBadge</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">`Version </span><span class="s4">${</span><span class="s1">versionMatch</span><span class="s4">[</span><span class="s7">1</span><span class="s4">]}</span><span class="s6">`</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">versionBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'block'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">versionBadge</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p12"><span class="s5">if</span><span class="s4"> (</span><span class="s1">imageObj</span><span class="s4">?.</span><span class="s1">id</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">history</span><span class="s4">.</span><span class="s1">replaceState</span><span class="s4">(</span><span class="s5">null</span><span class="s4">, </span><span class="s6">''</span><span class="s4">, </span><span class="s6">'?image='</span><span class="s4"> + </span><span class="s1">encodeURIComponent</span><span class="s4">(</span><span class="s1">imageObj</span><span class="s4">.</span><span class="s1">id</span><span class="s4">));</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">cardContainer</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Function to rebuild the modal’s right side card (feedback etc)</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">rebuildModalCard</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">cardContainer</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">cardContent</span><span class="s4"> = </span><span class="s1">buildCardSection</span><span class="s4">(</span><span class="s1">imageObj</span><span class="s4">, </span><span class="s5">true</span><span class="s4">, </span><span class="s1">rebuildModalCard</span><span class="s4">, </span><span class="s6">'modal'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">cardContent</span><span class="s4">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// Reset file inputs and clear preview containers if any</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">fileInputs</span><span class="s4"> = </span><span class="s1">cardContent</span><span class="s4">.</span><span class="s1">querySelectorAll</span><span class="s4">(</span><span class="s6">'input[type="file"]'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">fileInputs</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">input</span><span class="s4"> =&gt; </span><span class="s1">input</span><span class="s4">.</span><span class="s1">value</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">preview</span><span class="s4"> = </span><span class="s1">cardContent</span><span class="s4">.</span><span class="s1">querySelector</span><span class="s4">(</span><span class="s6">`#preview-container-modal-</span><span class="s4">${</span><span class="s1">imageObj</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}</span><span class="s6">`</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">preview</span><span class="s4">) </span><span class="s1">preview</span><span class="s4">.</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">cardContainer</span><span class="s4">.</span><span class="s1">appendChild</span><span class="s4">(</span><span class="s1">cardContent</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">rebuildModalCard</span><span class="s4">();</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Update global modal state variables for navigation</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">modalImages</span><span class="s4"> = </span><span class="s1">fullImageList</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">modalCurrentIndex</span><span class="s4"> = </span><span class="s1">index</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Show the modal</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">modal</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">add</span><span class="s4">(</span><span class="s6">'show'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'modal-close-btn'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'image-modal'</span><span class="s4">).</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">remove</span><span class="s4">(</span><span class="s6">'show'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'image-modal'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = (</span><span class="s1">e</span><span class="s4">) =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">modalContent</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'modal-content'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">modalContent</span><span class="s4">.</span><span class="s1">contains</span><span class="s4">(</span><span class="s1">e</span><span class="s4">.</span><span class="s1">target</span><span class="s4">)) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'image-modal'</span><span class="s4">).</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">remove</span><span class="s4">(</span><span class="s6">'show'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p12"><span class="s1">window</span><span class="s4">.</span><span class="s1">onload</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">urlParams</span><span class="s4"> = </span><span class="s5">new</span><span class="s4"> </span><span class="s12">URLSearchParams</span><span class="s4">(</span><span class="s1">window</span><span class="s4">.</span><span class="s1">location</span><span class="s4">.</span><span class="s1">search</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">imageIdToOpen</span><span class="s4"> = </span><span class="s1">urlParams</span><span class="s4">.</span><span class="s5">get</span><span class="s4">(</span><span class="s6">'image'</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">loadFolders</span><span class="s4">();</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">imageIdToOpen</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">waitForImages</span><span class="s4"> = </span><span class="s1">setInterval</span><span class="s4">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">images</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> &gt; </span><span class="s7">0</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">clearInterval</span><span class="s4">(</span><span class="s1">waitForImages</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">found</span><span class="s4"> = </span><span class="s1">images</span><span class="s4">.</span><span class="s1">find</span><span class="s4">(</span><span class="s1">img</span><span class="s4"> =&gt; </span><span class="s1">img</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> === </span><span class="s1">imageIdToOpen</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">found</span><span class="s1">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">index</span><span class="s4"> = </span><span class="s1">images</span><span class="s4">.</span><span class="s1">findIndex</span><span class="s4">(</span><span class="s1">img</span><span class="s4"> =&gt; </span><span class="s1">img</span><span class="s4">.</span><span class="s1">id</span><span class="s4"> === </span><span class="s1">imageIdToOpen</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">showModal</span><span class="s4">(</span><span class="s1">found</span><span class="s4">.</span><span class="s1">url</span><span class="s4">, </span><span class="s1">found</span><span class="s4">, </span><span class="s1">index</span><span class="s4">, </span><span class="s1">images</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}, </span><span class="s7">100</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">querySelector</span><span class="s4">(</span><span class="s6">'.modal-nav.left'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">modalImages</span><span class="s4">.</span><span class="s1">length</span><span class="s4"> === </span><span class="s7">0</span><span class="s4">) </span><span class="s5">return</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">modalCurrentIndex</span><span class="s4"> = (</span><span class="s1">modalCurrentIndex</span><span class="s4"> - </span><span class="s7">1</span><span class="s4"> + </span><span class="s1">modalImages</span><span class="s4">.</span><span class="s1">length</span><span class="s4">) % </span><span class="s1">modalImages</span><span class="s4">.</span><span class="s1">length</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">next</span><span class="s4"> = </span><span class="s1">modalImages</span><span class="s4">[</span><span class="s1">modalCurrentIndex</span><span class="s4">];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">showModal</span><span class="s4">(</span><span class="s1">next</span><span class="s4">.</span><span class="s1">url</span><span class="s4">, </span><span class="s1">next</span><span class="s4">, </span><span class="s1">modalCurrentIndex</span><span class="s4">, </span><span class="s1">modalImages</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">querySelector</span><span class="s4">(</span><span class="s6">'.modal-nav.right'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">modalImages</span><span class="s4">.</span><span class="s1">length</span><span class="s4"> === </span><span class="s7">0</span><span class="s4">) </span><span class="s5">return</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">modalCurrentIndex</span><span class="s4"> = (</span><span class="s1">modalCurrentIndex</span><span class="s4"> + </span><span class="s7">1</span><span class="s4">) % </span><span class="s1">modalImages</span><span class="s4">.</span><span class="s1">length</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">next</span><span class="s4"> = </span><span class="s1">modalImages</span><span class="s4">[</span><span class="s1">modalCurrentIndex</span><span class="s4">];</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">showModal</span><span class="s4">(</span><span class="s1">next</span><span class="s4">.</span><span class="s1">url</span><span class="s4">, </span><span class="s1">next</span><span class="s4">, </span><span class="s1">modalCurrentIndex</span><span class="s4">, </span><span class="s1">modalImages</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Show attachment preview modal with just the image</span></p>
<p class="p12"><span class="s5">function</span><span class="s4"> </span><span class="s1">showAttachmentModal</span><span class="s4">(</span><span class="s1">url</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">modal</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-modal'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">img</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-modal-img'</span><span class="s4">);</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">img</span><span class="s4">.</span><span class="s1">src</span><span class="s4"> = </span><span class="s1">url</span><span class="s4">;</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">modal</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p12"><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-close-btn'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = () =&gt; {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-modal'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">// Also close when clicking outside the image</span></p>
<p class="p12"><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-modal'</span><span class="s4">).</span><span class="s1">onclick</span><span class="s4"> = (</span><span class="s1">e</span><span class="s4">) =&gt; {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s13">e</span><span class="s4">.</span><span class="s13">target</span><span class="s4">.</span><span class="s13">id</span><span class="s4"> === </span><span class="s1">'attachment-modal'</span><span class="s4">) {</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'attachment-modal'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
</body>
</html>
